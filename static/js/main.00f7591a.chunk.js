(this.webpackJsonpflags=this.webpackJsonpflags||[]).push([[0],{12:function(e,t,a){},26:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),s=a.n(c),o=(a(12),a(2)),l=a(1),u=a(3),i=a.n(u),m=a(4),f=a.n(m),d=function(e){return r.a.createElement("div",{className:"question"},r.a.createElement("span",{className:"instructions"},"flag"===e.questionType&&"Which flag belongs to:","name"===e.questionType&&"Which country has this flag:"),function(){switch(e.questionType){case"name":return r.a.createElement("div",{className:"flag"},r.a.createElement(f.a,{code:e.answer.code.iso2}));case"flag":return r.a.createElement("span",{className:"country-name"},e.answer.name);default:throw new Error}}())};var g=function(e){var t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1];function o(t){var a="option";return t===e.answer.name?e.guess===e.answer.name?a+=" correct-guessed":a+=" correct-not-guessed":t===e.guess?a+=" incorrect-guess":a+=" other",a}return Object(n.useEffect)((function(){if(e.isQuestion){for(var t=[e.answer];t.length<6;){var a=e.getRandCountry();t.includes(a)||t.push(a)}s(function(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[a],e[a]=n}return e}(t))}}),[e.isQuestion]),document.body.onkeydown=function(t){(function(){var e=document.activeElement;if(e&&-1!==["input","select","textarea"].indexOf(e.tagName.toLowerCase()))return!0})()||"Enter"===t.key&&(e.isQuestion||e.nextQuestion())},r.a.createElement(r.a.Fragment,null,r.a.createElement(d,{answer:e.answer,questionType:e.questionType}),r.a.createElement("div",{className:"button-group options-".concat(e.questionType)},c.map((function(t){return r.a.createElement("button",{disabled:!e.isQuestion,key:t.name,tabIndex:0,className:o(t.name),onClick:function(){e.makeGuess(t.name)}},"name"===e.questionType&&t.name,"flag"===e.questionType&&r.a.createElement("div",{className:"flag"},r.a.createElement(f.a,{code:t.code.iso2})))}))),r.a.createElement("button",{disabled:e.isQuestion,tabIndex:0,className:"next-question",onClick:function(){e.nextQuestion()}},"Next Question"))};var p=function(){var e={correct:0,incorrect:0,streakCurrent:0,streakLongest:0,lastCorrect:!1},t=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,c=Object(n.useReducer)(e,t,(function(e){var t=JSON.parse(localStorage.getItem(a));return null!==t?t:null!==r?r(e):e}));return Object(n.useEffect)((function(){localStorage.setItem(a,JSON.stringify(c[0]))}),[a,c]),c}((function(t,a){switch(a.type){case"reset":return e;case"correct":return Object(o.a)(Object(o.a)({},t),{},{correct:t.correct+1,lastCorrect:!0,streakCurrent:t.streakCurrent+1,streakLongest:t.streakCurrent>=t.streakLongest?t.streakCurrent+1:t.streakLongest});case"incorrect":return Object(o.a)(Object(o.a)({},t),{},{incorrect:t.incorrect+1,lastCorrect:!1,streakCurrent:0});default:throw new Error}}),e,"score"),a=Object(l.a)(t,2),c=a[0],s=a[1];function u(){return(0===c.correct&&0===c.incorrect?50:Math.round(c.correct/(c.correct+c.incorrect)*100)).toString()}var m=i.a.ls("name").sort(),f=m.length;function d(){return i.a.findByName(m[Math.floor(Math.random()*(f-1))])}var p=Object(n.useState)("flag"),h=Object(l.a)(p,2),E=h[0],b=h[1],v=Object(n.useState)(""),N=Object(l.a)(v,2),y=N[0],k=N[1],w=Object(n.useState)(d),O=Object(l.a)(w,2),j=O[0],C=O[1],S=Object(n.useState)(!0),q=Object(l.a)(S,2),Q=q[0],x=q[1];return r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"layout-center"},r.a.createElement("div",{className:"layout-top"},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"logo"},"World Flags Quiz"),r.a.createElement("a",{className:"about",href:"https://github.com/updownupdown/flags",target:"_blank",rel:"noopener noreferrer"},"About")),r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"score-top"},r.a.createElement("span",{className:"score-perc"},"Score: ",u(),"%"),r.a.createElement("span",{className:"score-bar"},r.a.createElement("span",{className:"score-bar-result correct ".concat(!Q&&""!==y&&y===j.name&&"highlight"),style:{width:"".concat(u(),"%")}},r.a.createElement("span",{className:"score-bar-result-count"},c.correct)),r.a.createElement("span",{className:"score-bar-result incorrect ".concat(!Q&&""!==y&&y!==j.name&&"highlight"),style:{width:"".concat(100-u(),"%")}},r.a.createElement("span",{className:"score-bar-result-count"},c.incorrect)))),r.a.createElement("div",{className:"score-bottom"},r.a.createElement("span",{className:"score-tally"},"Correct: ",c.correct," / ",c.correct+c.incorrect),r.a.createElement("span",{className:"score-streak-current"},"Current streak: ",c.streakCurrent),r.a.createElement("span",{className:"score-streak-longest"},"Longest streak: ",c.streakLongest),r.a.createElement("button",{className:"score-reset",onClick:function(){s({type:"reset"})}},"Reset score")))),r.a.createElement("div",{className:"layout-bottom"},r.a.createElement(g,{questionType:E,getRandCountry:d,countriesList:m,answer:j,guess:y,makeGuess:function(e){k(e),x(!1),e===j.name?s({type:"correct"}):s({type:"incorrect"})},isQuestion:Q,nextQuestion:function(){C(d),b(function(e){var t="flag";return"flag"===e&&(t="name"),t}(E)),x(!0)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,a){e.exports=a(26)}},[[7,1,2]]]);
//# sourceMappingURL=main.00f7591a.chunk.js.map