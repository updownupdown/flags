(this.webpackJsonpflags=this.webpackJsonpflags||[]).push([[0],{11:function(e,t,a){e.exports=a(31)},16:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(6),c=a.n(s),o=(a(16),a(4)),l=a(1),i=a(2),u=a.n(i),m=a(7),p=a(8),g=a(10),d=a(9),f=(a(30),function(e){Object(g.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={activeOption:0,filteredOptions:[],showOptions:!1,userInput:""},e.onChange=function(t){var a=e.props.options,n=t.currentTarget.value,r=a.filter((function(e){return e.toLowerCase().indexOf(n.toLowerCase())>-1}));e.setState({activeOption:0,filteredOptions:r,showOptions:!0,userInput:t.currentTarget.value}),e.props.setGuess(t.currentTarget.value),e.props.checkValidGuess()},e.onClick=function(t){e.setState({activeOption:0,filteredOptions:[],showOptions:!1,userInput:t.currentTarget.innerText}),e.props.setGuess(t.currentTarget.innerText),e.props.checkValidGuess()},e.onKeyDown=function(t){var a=e.state,n=a.activeOption,r=a.filteredOptions;if(13===t.keyCode)e.setState({activeOption:0,showOptions:!1,userInput:r[n]}),e.props.setGuess(r[n]),e.props.checkValidGuess();else if(38===t.keyCode){if(0===n)return;e.setState({activeOption:n-1})}else if(40===t.keyCode){if(n===r.length-1)return;e.setState({activeOption:n+1})}},e}return Object(p.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,n=this.onKeyDown,s=this.state,c=s.activeOption,o=s.filteredOptions,l=s.showOptions,i=s.userInput;return l&&i&&(e=o.length?r.a.createElement("ul",{className:"options"},o.map((function(e,t){var n;return t===c&&(n="option-active"),r.a.createElement("li",{className:n,key:e,onClick:a},e)}))):r.a.createElement("div",{className:"no-options"},r.a.createElement("em",null,"No Option!"))),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",className:"search-box",onChange:t,onKeyDown:n,value:i}),r.a.createElement("input",{type:"submit",value:"",className:"search-btn"}),e))}}]),a}(n.Component)),v=a(3),E=a.n(v);var h=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),s=a[0],c=a[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),u=i[0],m=i[1];function p(){console.log("checked valid guess: "+u),e.countriesList.includes(u)?c(!0):c(!1)}return Object(n.useEffect)((function(){p()}),[u]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Guess the flag!"),r.a.createElement("h3",null,"Guess = ",u),r.a.createElement("h3",null,"Valid Guess? = ",s?"yes":"no"),r.a.createElement("div",{className:"question-flag"},r.a.createElement("div",{className:"flag"},r.a.createElement(E.a,{code:e.answer.code.iso2}))),r.a.createElement(f,{options:e.countriesList,setGuess:m,checkValidGuess:p}),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{onClick:function(){e.makeGuess(u)},disabled:!s},"Answer ",u),r.a.createElement("button",{onClick:function(){e.makeGuess("")}},"Pass")))};var N=function(e){var t=Object(n.useState)(!1),a=Object(l.a)(t,2),s=a[0],c=a[1];return Object(n.useEffect)((function(){e.guess===e.answer.name?(c(!0),e.setScore({type:"correct"})):(c(!1),e.setScore({type:"incorrect"}))}),[]),console.log(e.answer),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"result ".concat(s?"correct":"incorrect")},r.a.createElement("span",null,function(){var e=s?["Correct!","Yep!","That\u2019s it!","Good one!","That\u2019s right!","On the money!","Indeed!","Yeppers!","Awesome!"]:["Incorrect.","Sorry, wrong answer.","That\u2019s not it.","No cigar.","Bummer man.","Nah, sorry.","Nope.","Not quite.","What? No."];return e[Math.floor(Math.random()*(e.length-1))]}())),!s&&r.a.createElement("div",{className:"wrong-guess"},""===e.guess?r.a.createElement("span",{className:"wrong-guess-text"},"You passed!"):r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"wrong-guess-text"},"You guessed: ",e.guess),function(){var t=u.a.findByName(e.guess);return console.log("code = "+t.code.iso2),r.a.createElement("div",{className:"flag flag-guess"},r.a.createElement(E.a,{code:t.code.iso2}))}())),r.a.createElement("div",{className:"info"},r.a.createElement("div",{className:"info-text"},e.answer.name&&r.a.createElement("span",{className:"info-name"},e.answer.name),e.answer.capital&&r.a.createElement("span",{className:"info-capital"},"Capital: ",e.answer.capital)),r.a.createElement("div",{className:"info-flag"},r.a.createElement("div",{className:"flag"},r.a.createElement(E.a,{code:e.answer.code.iso2})))),r.a.createElement("div",{className:"button-group"},r.a.createElement("button",{onClick:function(){e.nextQuestion()}},"Next Question")))};var O=function(){var e={correct:0,incorrect:0,streakCurrent:0,streakLongest:0,lastCorrect:!1},t=function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=Object(n.useReducer)(e,t,(function(e){var t=JSON.parse(localStorage.getItem(a));return null!==t?t:null!==r?r(e):e}));return Object(n.useEffect)((function(){localStorage.setItem(a,JSON.stringify(s[0]))}),[a,s]),s}((function(t,a){switch(a.type){case"reset":return e;case"correct":return Object(o.a)(Object(o.a)({},t),{},{correct:t.correct+1,lastCorrect:!0,streakCurrent:t.streakCurrent+1,streakLongest:t.streakCurrent>=t.streakLongest?t.streakCurrent+1:t.streakLongest});case"incorrect":return Object(o.a)(Object(o.a)({},t),{},{incorrect:t.incorrect+1,lastCorrect:!1,streakCurrent:0});default:throw new Error}}),e,"score"),a=Object(l.a)(t,2),s=a[0],c=a[1],i=u.a.ls("name").sort(),m=i.length;function p(){return u.a.findByName(i[Math.floor(Math.random()*(m-1))])}var g=Object(n.useState)(""),d=Object(l.a)(g,2),f=d[0],v=d[1],E=Object(n.useState)(p),O=Object(l.a)(E,2),b=O[0],k=O[1],w=Object(n.useState)(!0),y=Object(l.a)(w,2),C=y[0],j=y[1];return r.a.createElement("div",{className:"layout"},r.a.createElement("div",{className:"layout-center"},r.a.createElement("div",{className:"layout-top"},r.a.createElement("div",{className:"header"},r.a.createElement("span",{className:"logo"},"World Flags Quiz"),r.a.createElement("a",{className:"about",href:"https://github.com/updownupdown/flags",target:"_blank",rel:"noopener noreferrer"},"About")),r.a.createElement("div",{className:"score"},r.a.createElement("div",{className:"score-top"},r.a.createElement("span",{className:"score-perc"},"Score: ",(0===s.correct&&0===s.correct?0:Math.round(s.correct/(s.correct+s.incorrect)*100)).toString(),"%"),r.a.createElement("div",{className:"score-tally"},r.a.createElement("span",{className:"score-tally-correct"},s.correct),r.a.createElement("span",{className:"score-tally-incorrect"},s.incorrect))),r.a.createElement("div",{className:"score-bottom"},r.a.createElement("span",{className:"score-streak-current"},"Current streak: ",s.streakCurrent),r.a.createElement("span",{className:"score-streak-longest"},"Longest streak: ",s.streakLongest),r.a.createElement("button",{className:"score-reset",onClick:function(){c({type:"reset"})}},"Reset score")))),r.a.createElement("div",{className:"layout-bottom"},C?r.a.createElement(h,{countriesList:i,answer:b,makeGuess:function(e){console.log("Making a guess"),v(e),j(!1)}}):r.a.createElement(N,{guess:f,answer:b,setScore:c,nextQuestion:function(){console.log("Moving to next question..."),k(p),j(!0)}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.cbd68b72.chunk.js.map